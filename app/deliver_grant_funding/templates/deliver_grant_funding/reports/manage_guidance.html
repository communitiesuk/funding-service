{% extends "deliver_grant_funding/grant_base.html" %}
{% from "govuk_frontend_jinja/components/back-link/macro.html" import govukBackLink %}

{% set page_title = "Add guidance" if not question.guidance_body else "Edit guidance" %}
{% set submit_label = "Add guidance" if not question.guidance_body else "Update guidance" %}

{% block beforeContent %}
  {{
    govukBackLink({
        "text": "Back",
        "href": url_for("deliver_grant_funding.edit_question", grant_id=grant.id, question_id=question.id)
    })
  }}
{% endblock beforeContent %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h2 class="govuk-heading-l">{{ page_title }}</h2>
      <p class="govuk-body">Use guidance if you need to:</p>
      <ul class="govuk-list govuk-list--bullet">
        <li>explain how to answer the question in more detail</li>
        <li>format your content with paragraphs, headings, lists or links</li>
      </ul>
      <p class="govuk-body">Guidance will be displayed at the top of the page, above your question.</p>
      <form method="post" novalidate>
        {{ form.csrf_token }}
        {{ form.guidance_heading(params={"label": {"classes": "govuk-!-font-weight-bold"} }) }}
        {{ form.guidance_body(params={"label": {"classes": "govuk-!-font-weight-bold"}, "attributes": {"data-module": "markdown-editor-toolbar", "data-allow-headings": "true", "data-i18n": "{}"} }) }}
        {{ form.submit(params={"text": submit_label }) }}
      </form>
    </div>
  </div>
{% endblock content %}
